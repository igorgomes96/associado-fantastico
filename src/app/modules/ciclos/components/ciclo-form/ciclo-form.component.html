<div class="container">
  <div class="card">
    <div class="card-header card-header-primary">
      <h4 class="card-title">Abertura de um Novo Ciclo</h4>
    </div>
    <div class="card-body">
      <form (submit)="onSubmit()" [formGroup]="form">
        <div class="row">
          <div class="col-lg-2 col-md-3 col-sm-6 col-6">
            <mat-form-field>
              <mat-label>Ano</mat-label>
              <mat-select formControlName="ano">
                <mat-option *ngFor="let ano of anos" [value]="ano">
                  {{ ano }}
                </mat-option>
              </mat-select>
              <mat-error>{{ formValidation.mensagem(form.get('ano'), 'Ano') }}</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-2 col-md-3 col-sm-6 col-6">
            <mat-form-field>
              <mat-label>Semestre</mat-label>
              <mat-select formControlName="semestre">
                <mat-option *ngFor="let semestre of semestres" [value]="semestre">
                  {{ semestre }}
                </mat-option>
              </mat-select>
              <mat-error>{{ formValidation.mensagem(form.get('semestre'), 'Semestre') }}</mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <mat-form-field>
              <input formControlName="descricao" matInput type="text" placeholder="Descrição">
              <mat-error>{{ formValidation.mensagem(form.get('descricao'), 'Descrição') }}</mat-error>
            </mat-form-field>
          </div>
        </div>

        <hr>

        <div class="row">
          <div class="col-12">
            <p class="periodo-text">Período de Votação para Associado Fantástico</p>
          </div>
        </div>

        <div class="row" formGroupName="periodoVotacaoAssociadoFantastico">
          <div class="col-md-3 col-6">
            <mat-form-field>
              <input formControlName="dataInicio" matInput [matDatepicker]="inicioVotacao1Picker" placeholder="Início">
              <mat-datepicker-toggle matSuffix [for]="inicioVotacao1Picker"></mat-datepicker-toggle>
              <mat-datepicker #inicioVotacao1Picker></mat-datepicker>
              <mat-error>{{ formValidation.mensagem(form.get('periodoVotacaoAssociadoFantastico.dataInicio'), 'Data Início') }}</mat-error>
            </mat-form-field>
          </div>

          <div class="col-md-3 col-6">
            <mat-form-field>
              <input formControlName="dataFim" matInput [matDatepicker]="terminoVotacao1Picker" placeholder="Término">
              <mat-datepicker-toggle matSuffix [for]="terminoVotacao1Picker"></mat-datepicker-toggle>
              <mat-datepicker #terminoVotacao1Picker></mat-datepicker>
              <mat-error>{{ formValidation.mensagem(form.get('periodoVotacaoAssociadoFantastico.dataFim'), 'Data de Término') }}</mat-error>
            </mat-form-field>
          </div>
        </div>

        <hr>

        <div class="row">
          <div class="col-12">
            <p class="periodo-text">Período de Votação para Associado <span class="text-primary">Super</span> Fantástico
            </p>
          </div>
        </div>

        <div class="row" formGroupName="periodoVotacaoAssociadoSuperFantastico">
          <div class="col-md-3 col-6">
            <mat-form-field>
              <input formControlName="dataInicio" matInput [matDatepicker]="inicioVotacao2Picker" placeholder="Início">
              <mat-datepicker-toggle matSuffix [for]="inicioVotacao2Picker"></mat-datepicker-toggle>
              <mat-datepicker #inicioVotacao2Picker></mat-datepicker>
              <mat-error>{{ formValidation.mensagem(form.get('periodoVotacaoAssociadoSuperFantastico.dataInicio'), 'Data Início') }}</mat-error>
            </mat-form-field>
          </div>

          <div class="col-md-3 col-6">
            <mat-form-field>
              <input formControlName="dataFim" matInput [matDatepicker]="terminoVotacao2Picker" placeholder="Término">
              <mat-datepicker-toggle matSuffix [for]="terminoVotacao2Picker"></mat-datepicker-toggle>
              <mat-datepicker #terminoVotacao2Picker></mat-datepicker>
              <mat-error>{{ formValidation.mensagem(form.get('periodoVotacaoAssociadoSuperFantastico.dataFim'), 'Data de Término') }}</mat-error>
            </mat-form-field>
          </div>
        </div>

        <button mat-raised-button type="submit" [ladda]="isLoading" [disabled]="form.invalid"
          class="btn btn-primary">Abrir Ciclo</button>
        <button mat-raised-button type="button" class="btn btn-default" routerLink="/ciclos">Cancelar</button>

        <div class="clearfix"></div>
      </form>
    </div>
  </div>
</div>